/*

		Purpose of modularization:
			Reverting of Shiptest PR https://github.com/shiptest-ss13/Shiptest/pull/3854
			Equip Delay

			Reason: much of the gameplay loop here just doesnt feel good personally.
			- Ossa

//code/_DEFINES/clothing.dm

// Base equipment delays
/// Delay base for full-body coverage suit slot items. (hardsuits, spacesuits, radsuits, etc.)
//#define EQUIP_DELAY_OVERSUIT (0 SECONDS)

/// Delay base for suit slot items
#define EQUIP_DELAY_SUIT (0 SECONDS)

/// Delay base for hard-body shoes and boots.
#define EQUIP_DELAY_BOOTS (0 SECONDS)
/// Delay base for hard-body, strapped, or otherwise head-covering hats.
#define EQUIP_DELAY_HELMET (0 SECONDS)
/// Delay base for shoes.
#define EQUIP_DELAY_SHOES (0 SECONDS)
/// Delay base for suit and cloak slot items that are trivially removed or put on. (Coats, Jackets, Ponchos, etc.)
#define EQUIP_DELAY_COAT (0 SECONDS)
/// Delay base for Undersuits.
#define EQUIP_DELAY_UNDERSUIT (0 SECONDS)

/// Delay base for masks.
#define EQUIP_DELAY_MASK (0 SECONDS)
/// Delay base for back-worn objects.
#define EQUIP_DELAY_BACK (0 SECONDS)
/// Delay base for belts.
#define EQUIP_DELAY_BELT (0 SECONDS)
/// Delay base for hats.
#define EQUIP_DELAY_HAT (0 SECONDS)
/// Delay base for gloves.
#define EQUIP_DELAY_GLOVES (0 SECONDS)
/// Delay base for glasses.
#define EQUIP_DELAY_EYEWEAR (0 SECONDS)
*/

//
// code/modules/mob/inventory.dm
//

#define EQUIPPING_INTERACTION_KEY(item) "equipping_item_[ref(item)]"

/mob/living/carbon/human/equip_delay_self_check(obj/item/equipped, bypass_delay)
	if(istype(equipped, /obj/item/clothing/suit)  && !bypass_delay) //If item is suit, and does not bypass delay... do equip interaction, else skip
		if(DOING_INTERACTION(src, EQUIPPING_INTERACTION_KEY(equipped)))
			return FALSE

		visible_message(
			span_notice("[src] starts to put on [equipped]..."),
			span_notice("You start to put on [equipped]...")
		)

		. = equipped.do_equip_wait(src, equipped.equipping_sound)

		if(.)
			visible_message(
				span_notice("[src] puts on [equipped]."),
				span_notice("You put on [equipped].")
			)
	else
		return TRUE

/mob/living/carbon/human/unequip_delay_self_check(obj/item/unequipped)
	if(istype(unequipped, /obj/item/clothing/suit))
		if(DOING_INTERACTION(src, EQUIPPING_INTERACTION_KEY(unequipped))) //If item is suit, and does not bypass delay... do equip interaction, else skip
			return FALSE

		visible_message(
			span_notice("[src] starts to take off [unequipped]..."),
			span_notice("You start to take off [unequipped]...")
		)

		. = unequipped.do_equip_wait(src, unequipped.unequipping_sound)

		if(.)
			visible_message(
				span_notice("[src] takes off [unequipped]."),
				span_notice("You takes off [unequipped].")
			)

	else
		return TRUE

#undef EQUIPPING_INTERACTION_KEY
