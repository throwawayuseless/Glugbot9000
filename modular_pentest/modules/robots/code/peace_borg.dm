/*
		PEACEKEEPER MODULES
*/

/obj/item/robot_module/peacekeeper
	name = "Peacekeeper"
	basic_modules = list(
		/obj/item/assembly/flash/cyborg,
		/obj/item/rsf/cookiesynth,
		/obj/item/harmalarm,
		/obj/item/reagent_containers/borghypo/peace,
		/obj/item/holosign_creator/cyborg,
		/obj/item/borg/cyborghug/peacekeeper,
		/obj/item/extinguisher,
		/obj/item/borg/projectile_dampen)
	emag_modules = list(/obj/item/reagent_containers/borghypo/peace/hacked)
	cyborg_base_icon = "peace-radial"
	moduleselect_icon = "standard"
	can_be_pushed = FALSE
	hat_offset = -2

/obj/item/robot_module/peacekeeper/be_transformed_to(obj/item/robot_module/old_module)
	var/mob/living/silicon/robot/R = loc
	var/static/list/peace_icons
	if(!peace_icons)
		peace_icons = list(
		"Default" = image(icon = 'icons/mob/robots.dmi', icon_state = "peace"),
		"Detective" = image(icon = 'icons/mob/robots.dmi', icon_state = "peaceborg-noir"),
		"Noir" = image(icon = 'icons/mob/robots.dmi', icon_state = "peaceborg-noirbw"),
		"Warden" = image(icon = 'icons/mob/robots.dmi', icon_state = "peaceborg-warden"),
		"Head of Peacekeeping" = image(icon = 'icons/mob/robots.dmi', icon_state = "peaceborg-hos"),
		"Meka Peacekeeper - F" = image(icon = 'modular_pentest/modules/robots/icons/mob/numekasf.dmi', icon_state = "fmekapeace"),
		"Meka Peacekeeper - M" = image(icon = 'modular_pentest/modules/robots/icons/mob/numekasm.dmi', icon_state = "mmekapeace"),
		)
		peace_icons = sortList(peace_icons)
	var/peace_borg_icon = show_radial_menu(R, R , peace_icons, custom_check = CALLBACK(src, PROC_REF(check_menu), R), radius = 42, require_near = TRUE)
	switch(peace_borg_icon)
		if("Default")
			cyborg_base_icon = "peace"
		if("Detective")
			cyborg_base_icon = "peaceborg-noir"
			cyborg_icon_override = 'icons/mob/robots.dmi'
			special_light_key = "peace"
		if("Noir")
			cyborg_base_icon = "peaceborg-noirbw"
			cyborg_icon_override = 'icons/mob/robots.dmi'
			special_light_key = "peace"
		if("Warden")
			cyborg_base_icon = "peaceborg-warden"
			cyborg_icon_override = 'icons/mob/robots.dmi'
			special_light_key = "peace"
		if("Head of Peacekeeping")
			cyborg_base_icon = "peaceborg-hos"
			cyborg_icon_override = 'icons/mob/robots.dmi'
			special_light_key = "peace"
		if("Meka Peacekeeper - F")
			cyborg_base_icon = "fmekapeace"
			cyborg_icon_override = 'modular_pentest/modules/robots/icons/mob/numekasf.dmi'
			special_light_key = "fmekapeace"
		if("Meka Peacekeeper - M")
			cyborg_base_icon = "mmekapeace"
			cyborg_icon_override = 'modular_pentest/modules/robots/icons/mob/numekasm.dmi'
			special_light_key = "mmekapeace"
		else
			return FALSE
	return ..()

/obj/item/robot_module/peacekeeper/do_transform_animation()
	..()
	to_chat(loc, "<span class='userdanger'>Under ASIMOV, you are an enforcer of the PEACE and preventer of HUMAN HARM. \
	You are not a security module and you are expected to follow orders and prevent harm above all else. Space law means nothing to you.</span>")
